<!-- Search Page -->
<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    </head>
    <body>
        <h1><center>Search for a Recipe</center></h1>
        <form action="{{ url_for('search') }}" class="searchpage" method="post" action="" style="margin:auto;width:1000px">
            <input style="width:300px" type="text" placeholder="Search..." name="search_query">
            
            <button type="submit" class="search-btn">search</button>
            <br>

            <select name="search_option">
                <option value="" disabled selected>Search Option</option>
                <option value="recipe_name">Recipe Name</option>
                <option value="ingredients">Ingredients</option>
                <option value="time">Cook Time</option>
            </select>
        </form>

        <br>
        <section class="list">
            {% for doc in docs %}
            <article class="list-box">
                <p class="recipe-name">Recipe: {{ doc.name }}</p>
                <p class="recipe-ingredient">Ingredients: {{ doc.ingredients }}</p>
                <p class="recipe-instructions">Instructions: {{ doc.instructions }}</p>
                <p class="recipe-cooktime">Cook Time: {{ doc.time }}</p> 
                <p>
                    <button class="cookButton" data-recipe-id="{{ doc._id }}">Cook!</button>
                </p>     
            </article>
            <br>
            {%endfor%}

            <script>
                
                var cookButtons = document.querySelectorAll('.cookButton');
                
                
                cookButtons.forEach(function(button) {
                    button.addEventListener('click', function() {
                        
                        var recipe_id = button.getAttribute('data-recipe-id');
                        window.location.href = '/cook/' + recipe_id;
                    });
                });
            </script>
        </section>

        <p>
            <button onclick="goToHomePage()">Go Back to Home</button>
        
            <script>
                function goToHomePage() {
                    window.location.href = "/";
                }
            </script>
        
        
            <button onclick="goToSearchPage()">Clear Search Result</button>
        
            <script>
                function goToSearchPage() {
                window.location.href = "/search";
                }
            </script>
        </p>
        
        <br>
       

    </body>
</html>